# SSL vs TLS

Stands For:             SSL means Secure Sockets Layer.                                             TLS means Transport Layer Security.

Version History:        SSL is now replaced with TLS. SSL moved through versions 1.0, 2.0, and 3.0. TLS is the upgraded version of SSL. TLS has moved through versions                                                                                                       1.0, 1.1, 1.2, and 1.3.

Activity:               Every SSL version is now deprecated.                                        TLS versions 1.2 and 1.3 are actively used.

Alert Messages:          SSL has only two types of alert messages. Alert messages are unencrypted.   TLS alert messages are encrypted and more diverse.

Message Authentication:  SSL uses MACs.                                                              TLS uses HMACs.

Cipher Suites:           SSL supports older algorithms with known security vulnerabilities.          TLS uses advanced encryption algorithms.

Handshake:              An SSL handshake is complex and slow.                                       A TLS handshake has fewer steps and a faster connection.

# TLS Decyption
Wireshark supports TLS decryption when appropriate secrets are provided. The three available methods are:

    Key log file using per-session secrets (#Usingthe (Pre)-Master Secret).

    Decryption using an RSA private key.

    Decryption using a Pre-Shared-Key (PSK)

A key log file is a universal mechanism that always enables decryption, even if a Diffie-Hellman (DH) key exchange is in use. The RSA private key only works in a limited number of cases.

The key log file is a text file generated by applications such as Firefox, Chrome and curl when the SSLKEYLOGFILE environment variable is set. To be precise, their underlying library (NSS, OpenSSL or boringssl) writes the required per-session secrets to a file. This file can subsequently be configured in Wireshark (#Using the (Pre)-Master Secret).

The RSA private key file can only be used in the following circumstances:

    The cipher suite selected by the server is not using (EC)DHE.

    The protocol version is SSLv3, (D)TLS 1.0-1.2. It does not work with TLS 1.3.

    The private key matches the server certificate. It does not work with the client certificate, nor the Certificate Authority (CA) certificate.

    The session has not been resumed. The handshake must include the ClientKeyExchange handshake message.

The key log file is generally recommended since it works in all cases, but requires the continuous ability to export the secrets from either the client or server application. The only advantage of the RSA private key is that it needs to be configured only once in Wireshark to enable decryption, subject to the above limitations.
# Start ssl key log file capture from client
From Windows 10 Client
1. Set an enviornment variable SSLKEYLOGFILE

From SUSE
1. export SSLKEYLOGFILE="/root/sslkeylog.log"

# Load ssl key file in wireshark
    Edit -> Preferences -> Protocols -> TLS -> (Pre)-Master-Secret log file name
